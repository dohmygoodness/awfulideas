 <style>
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            overflow: hidden; 
            background-color: #111827;
            color: white;
            user-select: none; /* Prevent text selection during drag */
        }
        .portfolio-container {
            display: flex;
            flex-direction: column;
            height: 100vh; 
            width: 100vw;
        }
        .portfolio-row {
            flex-grow: 1; 
            flex-shrink: 1; 
            flex-basis: calc(100vh / 9); /* MODIFIED: Base size for 9 rows */
            position: relative;
            overflow: hidden;
            cursor: pointer;
            transition: flex-grow 0.35s ease-in-out, flex-basis 0.35s ease-in-out, height 0.35s ease-in-out; 
            background-color: #111827; 
            display: flex;
            align-items: center;
            justify-content: center;
            border-bottom: 1px solid #374151;
        }
        .portfolio-row:last-child {
            border-bottom: none;
        }

        .row-background-image-holder {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 1;
            transition: opacity 0.3s ease-in-out; 
            z-index: 1; 
        }

        .portfolio-row .title-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: transparent; 
            display: flex;
            align-items: center;
            justify-content: center;
            transition: opacity 0.15s ease-out, background-color 0.2s ease-in-out; 
            z-index: 2; 
        }

        .portfolio-row .title {
            font-size: 3.5vw;
            font-weight: 700; 
            color: white;
            text-align: center;
            padding: 10px;
            transition: font-size 0.25s ease, opacity 0.25s ease, font-family 0s; 
            text-shadow: 1px 1px 3px rgba(0,0,0,0.4); 
        }

        /* Expanded state */
        .portfolio-row.expanded {
            flex-grow: 0;  
            flex-shrink: 0; 
            height: 85vh; 
            flex-basis: 85vh; 
            cursor: default; 
        }
        .portfolio-row.expanded .row-background-image-holder {
            opacity: 0; 
        }
        .portfolio-row.expanded .title-overlay {
            opacity: 0 !important; 
            pointer-events: none;
        }

        /* Collapsed state */
        .portfolio-row.collapsed {
            flex-grow: 1; 
            flex-shrink: 1; 
            flex-basis: calc((100vh - 85vh) / 8); /* MODIFIED: Divided by 8 for 8 collapsed rows */
        }
        .portfolio-row.collapsed .row-background-image-holder {
            opacity: 1; 
        }
        .portfolio-row.collapsed .title-overlay {
            background-color: rgba(0,0,0,0.7); 
            opacity: 1; 
        }
        .portfolio-row.collapsed .title {
            font-family: 'Roboto Mono', monospace; 
            font-weight: 300; 
            font-size: 1.2vw;
            opacity: 0.8;
        }

        /* Hover effect for rows in their initial, un-collapsed, un-expanded state */
        .portfolio-row:not(.expanded):not(.collapsed):hover {
            flex-grow: 1; 
            flex-basis: calc((100vh / 9) * 2); /* MODIFIED: 100% taller than new base size */
            z-index: 4; 
        }
        .portfolio-row:not(.expanded):not(.collapsed):hover .title-overlay {
            background-color: transparent;
        }

        /* Hover effect for rows that are in the .collapsed state */
        .portfolio-row.collapsed:hover { 
            flex-grow: 2; 
            flex-basis: 5vh; 
            z-index: 4;
        }
        .portfolio-row.collapsed:hover .title-overlay {
            background-color: transparent;
        }

        /* Expanded Content Area */
        .portfolio-row .expanded-content {
            width: 100%;
            height: 100%;
            padding: 20px 20px 0 20px; 
            color: white;
            text-align: left;
            position: absolute;
            top: 0;
            left: 0;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            justify-content: flex-start; 
            opacity: 0; 
            overflow: hidden; 
            z-index: 3; 
        }

        .portfolio-row.expanded .expanded-content.visible {
            opacity: 1;
            animation: fadeInContent 0.25s ease-out 0.2s forwards; 
        }

        .expanded-content .current-project-title {
            font-family: 'Inter', sans-serif; 
            font-weight: 700;
            font-size: clamp(1.8rem, 3.5vw, 2.8rem); 
            margin-bottom: -1.5em; 
            text-align: center;
            width: 100%;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            z-index: 10; 
            padding-bottom: 0.5em; 
            flex-shrink: 0; 
            cursor: pointer; 
        }

        .carousel-wrapper {
            width: 100%;
            overflow-x: scroll; 
            overflow-y: hidden;
            margin-top: 10px; 
            margin-bottom: 0px;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none; 
            -ms-overflow-style: none;  
            flex-grow: 1; 
            display: flex; 
            align-items: center; 
            transform: translateX(100%);
            transition: transform 0.35s ease-out 0.15s; 
            cursor: grab; 
        }
        .carousel-wrapper.grabbing {
            cursor: grabbing; 
        }
        .carousel-wrapper::-webkit-scrollbar {
            display: none;
        }
        .portfolio-row.expanded .expanded-content.visible .carousel-wrapper {
            transform: translateX(0%);
        }

        .carousel-track {
            display: flex;
            pointer-events: none; 
            padding-left: 25vw;  
            padding-right: 25vw; 
        }
         .carousel-item img,
        .carousel-item iframe {
            pointer-events: auto; 
        }

        .carousel-item {
            flex-shrink: 0;
            width: auto; 
            height:65vh; 
            background-color: #2d3748; 
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .carousel-item:not(:last-child) {
             margin-right: 15px;
        }
      
        .carousel-item img,
        .carousel-item iframe {
            width: auto; 
            height: 100%; 
            object-fit: contain; 
            border: none;
            transition: opacity 0.15s ease-in 0.3s; 
        }

        .expanded-content .project-description {
            font-size: clamp(0.75rem, 1.3vw, 0.9rem); 
            line-height: 1.5;
            color: #cbd5e0;
            padding: 0 50px 50px 50px;
            max-height: 8vh; 
            overflow-y: auto;
            text-align: center;
            margin-top: 5px; 
            margin-bottom: 0; 
            flex-shrink: 0; 
        }

        @keyframes fadeInContent {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Mobile adjustments */
        @media (max-width: 768px) {
            .portfolio-row {
                flex-basis: calc(100vh / 9); /* MODIFIED for 9 rows */
            }
            .portfolio-row .title { font-size: 5vw; }
            .portfolio-row.expanded { 
                height: 77.5vh; 
                flex-basis: 77.5vh; 
            } 
            .portfolio-row.collapsed { 
                flex-basis: calc((100vh - 77.5vh) / 8); /* MODIFIED for 8 collapsed rows */
            } 
            .portfolio-row.collapsed .title { 
                font-size: 2.5vw; 
            }
            .expanded-content .current-project-title { 
                font-size: clamp(1.5rem, 5vw, 2.2rem); 
                margin-bottom: -0.75em; 
            }
            .carousel-item { 
                width: auto; 
                height: 45vh; 
            }
             .carousel-item:not(:last-child) {
                margin-right: 10px; 
            }
            .carousel-track {
                padding-left: 20vw; 
                padding-right: 20vw;
            }
            .expanded-content .project-description { 
                font-size: clamp(0.7rem, 2.8vw, 0.85rem); 
                max-height: 7vh; 
            }
        }
    </style>